Docker swarm init
Створюєм в кореневій папці секрет wp_password.txt
docker secret create my_secret ./wp_password.txt створюємо секрет
docker secret inspect my_secret дивимось чи все ок з секретом
Міняємо дані    WORDPRESS_DB_PASSWORD_FILE: /run/secret/wp_password.txt
Додаємо секрет в композ файл
secrets:
   my_secret:
     file: ./wp_password.txt

docker container exec ca2a02033186 ls -l /run/secrets - перевіряємо чи в контейнері є секрет
total 4
-r--r--r-- 1 root root 17 Jan 24 11:44 my_secret

docker stack deploy -c docker-compose.yml wordpress - деплоїм вордпрес
Ignoring unsupported options: restart

Creating network wordpress_default
Creating secret wordpress_my_secret
Creating service wordpress_db
Creating service wordpress_wordpress
Готово